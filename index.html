<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–≠–∫—Å–∫—É—Ä—Å–∏–∏ ‚Äî Phuket Tours</title>
  <style>
    :root{--bg:#f6f7fb;--card:#fff;--accent:#0a84ff;--muted:#6b7280}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;background:var(--bg);color:#111}
    header{background:linear-gradient(90deg,#0563ff22,transparent);padding:16px 18px;display:flex;gap:12px;align-items:center}
    .brand{font-weight:700;font-size:18px}
    .subtitle{font-size:12px;color:var(--muted)}
    .container{padding:14px}
    .grid{display:grid;grid-template-columns:1fr;gap:12px}
    @media(min-width:700px){.grid{grid-template-columns:repeat(2,1fr)}}
    .card{background:var(--card);border-radius:12px;overflow:hidden;box-shadow:0 6px 18px rgba(12,20,60,0.06)}
    .card img{width:100%;height:190px;object-fit:cover;display:block}
    .card-body{padding:12px}
    .title{font-weight:700;margin:0 0 6px;font-size:16px}
    .prices{display:flex;gap:12px;align-items:center;margin-bottom:8px}
    .price{font-weight:700}
    .muted{color:var(--muted);font-size:13px}
    .btn-row{display:flex;gap:8px}
    .btn{flex:1;padding:10px;border-radius:10px;border:0;font-weight:700;cursor:pointer}
    .book{background:var(--accent);color:white}
    .more{background:#eef2ff;color:var(--accent)}
    footer{padding:14px;text-align:center;color:var(--muted);font-size:13px}

    /* modal */
    .modal{position:fixed;left:0;right:0;top:0;bottom:0;background:rgba(2,6,23,0.45);display:flex;align-items:flex-end;justify-content:center;padding:18px;visibility:hidden;opacity:0;transition:all .18s}
    .modal.open{visibility:visible;opacity:1}
    .sheet{background:white;border-radius:14px;padding:16px;width:100%;max-width:720px;box-shadow:0 20px 50px rgba(10,20,60,0.15)}
    .row{display:flex;gap:8px}
    input,select{width:100%;padding:10px;border-radius:8px;border:1px solid #e6e9ef}
    label{font-size:13px;color:var(--muted);margin-bottom:6px;display:block}
    .payment-options{display:flex;gap:8px;margin-top:8px}
    .paybtn{flex:1;padding:10px;border-radius:8px;border:1px dashed #dfe7ff;background:#fbfdff;font-weight:700}
    .small{font-size:13px;color:var(--muted)}
  </style>
</head>
<body>
  <header>
    <div>
      <div class="brand">–≠–∫—Å–∫—É—Ä—Å–∏–∏ –Ω–∞ –ü—Ö—É–∫–µ—Ç–µ</div>
      <div class="subtitle">–¶–µ–Ω—ã —É–∫–∞–∑–∞–Ω—ã: –≤–∑—Ä–æ—Å–ª—ã–µ / –¥–µ—Ç–∏</div>
    </div>
    <div style="margin-left:auto;font-size:13px;color:var(--muted)">üìç Phuket</div>
  </header>

  <main class="container">
    <div class="grid" id="cards">
      <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º -->
    </div>
  </main>

  <div class="modal" id="modal">
    <div class="sheet">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
        <strong id="modal-title">–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</strong>
        <button id="close">‚úï</button>
      </div>
      <form id="booking-form">
        <input type="hidden" id="tour-id">
        <div style="margin-bottom:10px">
          <label>–ò–º—è</label>
          <input id="name" placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" required />
        </div>
        <div style="margin-bottom:10px">
          <label>–¢–µ–ª–µ—Ñ–æ–Ω (WhatsApp / Telegram)</label>
          <input id="phone" placeholder="+66 8 1234 5678" required />
        </div>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
          <div>
            <label>–í–∑—Ä–æ—Å–ª—ã–µ</label>
            <select id="adults">
              <option>1</option><option>2</option><option>3</option><option>4</option>
            </select>
          </div>
          <div>
            <label>–î–µ—Ç–∏</label>
            <select id="children">
              <option>0</option><option>1</option><option>2</option>
            </select>
          </div>
        </div>
        <div style="margin-top:10px">
          <label>–î–∞—Ç–∞</label>
          <input id="date" type="date" required />
        </div>
        <div style="margin-top:12px">
          <div class="small">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã (–∑–∞–º–µ–Ω–∞ –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –æ–ø–∏—Å–∞–Ω–∞ –Ω–∏–∂–µ)</div>
          <div class="payment-options">
            <button type="button" class="paybtn" id="pay-online">–û–ø–ª–∞—Ç–∏—Ç—å –∫–∞—Ä—Ç–æ–π</button>
            <button type="button" class="paybtn" id="pay-bank">–û–ø–ª–∞—Ç–∞ –ø—Ä–∏ –≤—Å—Ç—Ä–µ—á–µ</button>
          </div>
        </div>
        <div style="margin-top:12px;display:flex;gap:8px">
          <button class="btn book" id="confirm" type="submit">–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ</button>
          <button class="btn more" type="button" id="contact">–ù–∞–ø–∏—Å–∞—Ç—å –≤ Telegram</button>
        </div>
      </form>
      <div style="margin-top:8px" class="small">–ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã –∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∏—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –æ–ø–ª–∞—Ç–µ –∏ —Å—Å—ã–ª–∫—É –Ω–∞ –æ–ø–ª–∞—Ç—É (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ –æ–Ω–ª–∞–π–Ω-–ø–ª–∞—Ç–µ–∂–∏).</div>
    </div>
  </div>

  <footer>
    –®–∞–±–ª–æ–Ω –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî –≥–æ—Ç–æ–≤ –∫ –∑–∞–≥—Ä—É–∑–∫–µ. –õ–æ–≥–æ—Ç–∏–ø –∏ –∫–æ–Ω—Ç–∞–∫—Ç –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å. ¬©
  </footer>

<script>
// --- –î–∞–Ω–Ω—ã–µ —ç–∫—Å–∫—É—Ä—Å–∏–π (–≤–∑—Ä–æ—Å–ª—ã–µ/–¥–µ—Ç–∏) ---
const tours = [
  {id:1,name:"Phi Phi - Khai (1 –¥–µ–Ω—å)",adult:3000,child:2300,photo:"https://source.unsplash.com/800x600/?phi%20phi"},
  {id:2,name:"Phi Phi - Bamboo (1 –¥–µ–Ω—å)",adult:3400,child:2700,photo:"https://source.unsplash.com/800x600/?phi%20phi,bamboo"},
  {id:3,name:"James Bond - Naka Island - Canoe (1 –¥–µ–Ω—å)",adult:3400,child:2700,photo:"https://source.unsplash.com/800x600/?james%20bond%20island"},
  {id:4,name:"Similan (1 –¥–µ–Ω—å)",adult:4000,child:3300,photo:"https://source.unsplash.com/800x600/?similan%20islands"},
  {id:5,name:"Phi Phi - James Bond (1 –¥–µ–Ω—å)",adult:5500,child:4000,photo:"https://source.unsplash.com/800x600/?phi%20phi,james%20bond"},
  {id:6,name:"Phi Phi - Krabi - James Bond (2 –¥–Ω—è 1 –Ω–æ—á—å)",adult:7500,child:5900,photo:"https://source.unsplash.com/800x600/?krabi"},
  {id:7,name:"Rok - Haa (1 –¥–µ–Ω—å)",adult:4300,child:3400,photo:"https://source.unsplash.com/800x600/?rok%20island"},
  {id:8,name:"Rok - Lanta (2 –¥–Ω—è 1 –Ω–æ—á—å)",adult:8100,child:6400,photo:"https://source.unsplash.com/800x600/?lanta%20island"},
  {id:9,name:"Phi Phi - Rok (2 –¥–Ω—è 1 –Ω–æ—á—å)",adult:7500,child:6000,photo:"https://source.unsplash.com/800x600/?phi%20phi,rok"},
  {id:10,name:"Phi Phi (2 –¥–Ω—è 1 –Ω–æ—á—å)",adult:6300,child:5000,photo:"https://source.unsplash.com/800x600/?phi%20phi,beach"}
];

const cards = document.getElementById('cards');
function render(){
  cards.innerHTML = '';
  tours.forEach(t => {
    const el = document.createElement('div'); el.className='card';
    el.innerHTML = `
      <img src="${t.photo}&sig=${t.id}" alt="${t.name}" loading="lazy" />
      <div class="card-body">
        <h3 class="title">${t.name}</h3>
        <div class="prices">
          <div><div class="muted">–í–∑—Ä–æ—Å–ª—ã–µ</div><div class="price">${t.adult} –±–∞—Ç</div></div>
          <div><div class="muted">–î–µ—Ç–∏</div><div class="price">${t.child} –±–∞—Ç</div></div>
        </div>
        <div class="btn-row">
          <button class="btn book" data-id="${t.id}">üìû –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button>
          <button class="btn more" data-id="${t.id}">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
        </div>
      </div>
    `;
    cards.appendChild(el);
  })
}
render();

// --- Modal / booking logic ---
const modal = document.getElementById('modal');
const close = document.getElementById('close');
const bookingForm = document.getElementById('booking-form');
const modalTitle = document.getElementById('modal-title');
let currentTour = null;

document.addEventListener('click', e=>{
  const b = e.target.closest('button');
  if(!b) return;
  if(b.dataset.id){
    const id = +b.dataset.id;
    openBooking(id);
  }
});

function openBooking(id){
  currentTour = tours.find(t=>t.id===id);
  document.getElementById('tour-id').value = id;
  modalTitle.textContent = '–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî ' + currentTour.name;
  modal.classList.add('open');
}
close.addEventListener('click', ()=>modal.classList.remove('open'));

bookingForm.addEventListener('submit', async (ev)=>{
  ev.preventDefault();
  const data = {
    tour: currentTour.name,
    tourId: currentTour.id,
    name: document.getElementById('name').value,
    phone: document.getElementById('phone').value,
    adults: +document.getElementById('adults').value,
    children: +document.getElementById('children').value,
    date: document.getElementById('date').value
  };

  // –°—á–∏—Ç–∞–µ–º —Å—É–º–º—É
  const total = data.adults * currentTour.adult + data.children * currentTour.child;

  // –ü–æ–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞: –ø–æ–∫–∞–∂–µ–º –æ–∫–Ω–æ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –∏ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –æ–ø–ª–∞—Ç—É
  // –ù–∞ –ø—Ä–æ–¥–∞–∫—à–Ω–µ –∑–∞–º–µ–Ω–∏—Ç–µ —ç—Ç–æ—Ç —à–∞–≥ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ Checkout session (Stripe) –∏–ª–∏ —Å—Å—ã–ª–∫—É –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é PG
  const proceed = confirm(`–°—É–º–º–∞: ${total} –±–∞—Ç\n\n–ù–∞–∂–º–∏—Ç–µ OK, —á—Ç–æ–±—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –æ–ø–ª–∞—Ç—É (–ø—Ä–∏–º–µ—Ä).`);
  if(!proceed) return;

  // --- –ó–¥–µ—Å—å –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—ã–∑–æ–≤ –≤–∞—à–µ–≥–æ –±—ç–∫–µ–Ω–¥–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç –ø–ª–∞—Ç—ë–∂–Ω—É—é —Å–µ—Å—Å–∏—é.
  // –ü—Ä–∏–º–µ—Ä (—Å–µ—Ä–≤–µ—Ä): POST /create-checkout-session {amount, currency, description, customer}
  // –°–µ—Ä–≤–µ—Ä —Å–æ–∑–¥–∞—ë—Ç —Å–µ—Å—Å–∏—é –≤ Stripe –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç URL, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ –≤ WebApp (window.open(url)).

  // –î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ ‚Äî —Å–æ–∑–¥–∞—ë–º fake —Å—Å—ã–ª–∫—É
  const fakePaymentUrl = 'https://t.me/yourusername?text=' + encodeURIComponent(`–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ ${data.tour} | ${data.date} | ${data.adults}xA ${data.children}xC | ${data.name} | ${data.phone} | –°—É–º–º–∞ ${total}‡∏ø`);

  // –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç –≤–Ω—É—Ç—Ä–∏ Telegram WebApp ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º WebApp.openLink
  if(window.Telegram && window.Telegram.WebApp && window.Telegram.WebApp.openLink){
    window.Telegram.WebApp.openLink(fakePaymentUrl);
  } else {
    window.open(fakePaymentUrl, '_blank');
  }

  modal.classList.remove('open');
  alert('–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ ‚Äî —Å–∫–æ—Ä–æ —Å –≤–∞–º–∏ —Å–≤—è–∂—É—Ç—Å—è. (–≠—Ç–æ –¥–µ–º–æ. –î–ª—è –æ–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –ø–ª–∞—Ç—ë–∂–Ω—ã–π —à–ª—é–∑)');
});

// –ö–Ω–æ–ø–∫–∞ "–ù–∞–ø–∏—Å–∞—Ç—å –≤ Telegram"
document.getElementById('contact').addEventListener('click', ()=>{
  const text = '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –•–æ—á—É –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å: ' + (currentTour?currentTour.name:'(—Ç—É—Ä)');
  const tgLink = 'https://t.me/yourusername?text=' + encodeURIComponent(text);
  if(window.Telegram && window.Telegram.WebApp && window.Telegram.WebApp.openLink){
    window.Telegram.WebApp.openLink(tgLink);
  } else window.open(tgLink,'_blank');
});

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫ –≤–Ω—É—Ç—Ä–∏ –º–æ–¥–∞–ª–∫–∏ (–ø–ª–∞—Ç—ë–∂)
document.getElementById('pay-online').addEventListener('click', ()=>{
  alert('–û–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–æ–π: –≤ —à–∞–±–ª–æ–Ω–µ —ç—Ç–æ –∑–∞–≥–ª—É—à–∫–∞. –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤—ã–∑–æ–≤ –≤–∞—à–µ–≥–æ –±—ç–∫–µ–Ω–¥–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç—ë–∂–Ω–æ–π —Å–µ—Å—Å–∏–∏.');
});

document.getElementById('pay-bank').addEventListener('click', ()=>{
  alert('–û–ø–ª–∞—Ç–∞ –ø—Ä–∏ –≤—Å—Ç—Ä–µ—á–µ ‚Äî –≤—ã–±—Ä–∞–Ω–∞. –ú—ã –æ—Ç–ø—Ä–∞–≤–∏–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –±—Ä–æ–Ω–∏ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é.');
});

// --- Telegram WebApp –∞–¥–∞–ø—Ç–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ---
if(window.Telegram && window.Telegram.WebApp){
  const WebApp = window.Telegram.WebApp;
  WebApp.expand();
}

</script>

<!--
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ–ø–ª–∞—Ç—ã (–ø–æ–¥—Å–∫–∞–∑–∫–∞):

1) Stripe Checkout (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –∫–∞—Ä—Ç):
   - –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–π endpoint /create-checkout-session, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç secret key Stripe –∏ –≤—ã–∑—ã–≤–∞–µ—Ç stripe.checkout.sessions.create({payment_method_types:['card'],line_items:[...],mode:'payment',success_url, cancel_url})
   - –°–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—ë—Ç session.url ‚Äî –æ—Ç–∫—Ä–æ–π—Ç–µ –µ—ë (window.open) –∏–ª–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
   - Stripe –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞—Ä—Ç—ã —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞–Ω, –Ω–æ –¥–ª—è –ø—Ä–∏—ë–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π –∏–∑ –†–æ—Å—Å–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏–∑-–∑–∞ —Å–∞–Ω–∫—Ü–∏–π. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ Stripe –¥–ª—è –≤–∞—à–µ–≥–æ —é—Ä–∏—Å–¥–∏–∫—Ü–∏–∏.

2) –õ–æ–∫–∞–ª—å–Ω—ã–µ —à–ª—é–∑—ã –≤ –¢–∞–∏–ª–∞–Ω–¥–µ: Omise, 2C2P ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Ç–∞–π—Å–∫–∏–µ –∫–∞—Ä—Ç—ã –∏ –º–µ—Å—Ç–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã.

3) –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –æ–ø–ª–∞—Ç—É –≤ Telegram (–ø–µ—Ä–µ–¥–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É), –∏ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –æ–ø–ª–∞—Ç—É —á–µ—Ä–µ–∑ Thai bank transfer / PromptPay.

–í canvas-–∫–æ–¥–µ –≤—ã—à–µ ‚Äî –º–µ—Å—Ç–∞, –≥–¥–µ –Ω—É–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ URL –∏ –¥–∞–Ω–Ω—ã–µ (yourusername, backend endpoints).
-->

</body>
</html>
